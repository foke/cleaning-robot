(this["webpackJsonpcleaning-robot"]=this["webpackJsonpcleaning-robot"]||[]).push([[0],{20:function(n,t,e){},21:function(n,t,e){"use strict";e.r(t);var r,i,o,c,a,u=e(0),s=e.n(u),d=e(9),f=e.n(d),l=e(5),p=e(2),x=e(3),b=10,h=500,j=50,g=e(1),O=x.a.div(r||(r=Object(p.a)(["\n  display: flex;\n"]))),m=x.a.div(i||(i=Object(p.a)(["\n  width: ","px;\n  height: ","px;\n  background-color: ",";\n  border: 1px solid #fff;\n  box-sizing: border-box;\n  transition: background-color ","s;\n"])),j,j,(function(n){return n.clean?"#a4d2a4":"#d5c6bb"}),h/1e3),v=function(n){var t=n.grid;return Object(g.jsx)(g.Fragment,{children:t.map((function(n,t){return Object(g.jsx)(O,{children:n.map((function(n,t){return Object(g.jsx)(m,{clean:n},t)}))},t)}))})},y=e.p+"static/media/robot-vacuum-cleaner.bf037834.svg",T=.9*h/1e3,E=x.a.div(o||(o=Object(p.a)(["\n  position: absolute;\n  transform: translate(\n    ","px,\n    ","px\n  );\n  transition: ",";\n"])),(function(n){return n.position.x*j}),(function(n){return n.position.y*j}),(function(n){return n.animate?"transform ".concat(T,"s linear"):""})),w=x.a.img(c||(c=Object(p.a)(["\n  transform: rotate(","deg);\n  width: ","px;\n  height: ","px;\n"])),(function(n){return n.rotation}),j,j),S=function(n){var t=n.position,e=n.animate,r=s.a.useState(0),i=Object(l.a)(r,2),o=i[0],c=i[1],a=s.a.useRef(null);return s.a.useEffect((function(){c(0),a.current&&e&&(t.x>a.current.x?c(90):t.x<a.current.x?c(270):t.y>a.current.y?c(180):c(0)),a.current=t}),[t,e]),Object(g.jsx)(E,{position:t,animate:e,children:Object(g.jsx)(w,{rotation:o,src:y,alt:"robot"})})};!function(n){n[n.NORTH=0]="NORTH",n[n.SOUTH=1]="SOUTH",n[n.EAST=2]="EAST",n[n.WEST=3]="WEST"}(a||(a={}));var M,R,H,k,A,I=function(n){return n.every((function(n){return n.every((function(n){return n}))}))},N=function(n){var t=[];return n.x>0&&t.push(a.WEST),n.x<b-1&&t.push(a.EAST),n.y>0&&t.push(a.NORTH),n.y<b-1&&t.push(a.SOUTH),t[Math.floor(Math.random()*t.length)]},P=function(){var n={x:Math.floor(Math.random()*b),y:Math.floor(Math.random()*b)},t=function(){for(var n=[],t=0;t<b;t++){var e=Array(b).fill(!1);n.push(e)}return n}();return t[n.y][n.x]=!0,{grid:t,currentPosition:n}},U=function(n){var t=function(n){var t=N(n),e=n.x,r=n.y;return t===a.WEST?{x:e-1,y:r}:t===a.EAST?{x:e+1,y:r}:t===a.NORTH?{x:e,y:r-1}:t===a.SOUTH?{x:e,y:r+1}:{x:e,y:r}}(n.currentPosition);return{grid:n.grid.map((function(n,e){return n.map((function(n,r){return!!(r===t.x&&e===t.y)||n}))})),currentPosition:t}},W=function(n,t){switch(t.type){case"RESET":return P();case"MOVE":return U(n);default:throw new Error("Not a valid action: "+t.type)}},z=x.a.div(M||(M=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  min-height: 100%;\n  flex-direction: column;\n  margin: 0 auto;\n  width: ","px;\n"])),b*j),C=x.a.div(R||(R=Object(p.a)(["\n  position: relative;\n  border-radius: 5px;\n  height: ","px;\n  overflow: hidden;\n"])),b*j),D=x.a.div(H||(H=Object(p.a)(["\n  margin-top: 10px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  font-size: 1.4rem;\n"]))),V=x.a.button(k||(k=Object(p.a)(["\n  background-color: #eee;\n  color: #666;\n  border-radius: 5px;\n  border: none;\n  padding: 10px 20px;\n  font-size: 1.4rem;\n\n  &:hover {\n    background-color: #ccc;\n    cursor: pointer;\n  }\n"]))),J=x.a.p(A||(A=Object(p.a)(["\n  color: ",";\n  flex: 1;\n"])),(function(n){return n.complete?"#a4d2a4":"#666"})),B=function(){var n=s.a.useReducer(W,P()),t=Object(l.a)(n,2),e=t[0],r=t[1],i=s.a.useRef(),o=s.a.useRef((new Date).getTime());s.a.useEffect((function(){i.current=window.setInterval((function(){return r({type:"MOVE"})}),h)}),[]),s.a.useEffect((function(){I(e.grid)&&clearInterval(i.current)}),[e.grid]);var c=e.grid.flatMap((function(n){return n.filter((function(n){return n}))})).length>1,a=I(e.grid),u=Math.round(((new Date).getTime()-o.current)/1e3);return Object(g.jsxs)(z,{children:[Object(g.jsxs)(C,{children:[Object(g.jsx)(S,{position:e.currentPosition,animate:c}),Object(g.jsx)(v,{grid:e.grid})]}),Object(g.jsxs)(D,{children:[Object(g.jsx)(J,{complete:a,children:a?"Cleaning complete in ".concat(u," seconds"):"Cleaning in progress..."}),Object(g.jsx)(V,{onClick:function(){clearInterval(i.current),r({type:"RESET"}),o.current=(new Date).getTime(),i.current=window.setInterval((function(){return r({type:"MOVE"})}),h)},children:"Reset"})]})]})};e(20);f.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(B,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.6a06a3c6.chunk.js.map