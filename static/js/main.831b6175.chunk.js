(this["webpackJsonpcleaning-robot"]=this["webpackJsonpcleaning-robot"]||[]).push([[0],{20:function(n,t,e){},21:function(n,t,e){"use strict";e.r(t);var r,i,o,a,c,u,s,d,l=e(0),f=e.n(l),p=e(9),x=e.n(p),b=e(5),h=e(2),j=e(3),g=10,O=500,m=50,v=e(1),y=j.a.div(r||(r=Object(h.a)(["\n  display: flex;\n"]))),w=j.a.div(i||(i=Object(h.a)(["\n  width: ","px;\n  height: ","px;\n  background-color: ",";\n  border: 1px solid #fff;\n  box-sizing: border-box;\n  transition: background-color ","s;\n"])),m,m,(function(n){return n.clean?"#a4d2a4":"#d5c6bb"}),O/1e3),E=function(n){var t=n.grid;return Object(v.jsx)(v.Fragment,{children:t.map((function(n,t){return Object(v.jsx)(y,{children:n.map((function(n,t){return Object(v.jsx)(w,{clean:n,"data-testid":n?"tile-clean":"tile-dirty"},t)}))},t)}))})},T=e.p+"static/media/robot-vacuum-cleaner.bf037834.svg",S=.9*O/1e3,R=j.a.div(o||(o=Object(h.a)(["\n  position: absolute;\n  transform: translate(\n    ","px,\n    ","px\n  );\n  transition: ",";\n"])),(function(n){return n.position.x*m}),(function(n){return n.position.y*m}),(function(n){return n.animate?"transform ".concat(S,"s linear"):""})),M=j.a.img(a||(a=Object(h.a)(["\n  transform: rotate(","deg);\n  width: ","px;\n  height: ","px;\n"])),(function(n){return n.rotation}),m,m),H=function(n){var t=n.position,e=n.animate,r=f.a.useState(0),i=Object(b.a)(r,2),o=i[0],a=i[1],c=f.a.useRef(null);return f.a.useEffect((function(){a(0),c.current&&e&&(t.x>c.current.x?a(90):t.x<c.current.x?a(270):t.y>c.current.y?a(180):a(0)),c.current=t}),[t,e]),Object(v.jsx)(R,{position:t,animate:e,children:Object(v.jsx)(M,{rotation:o,src:T,alt:"cleaning robot"})})},k=j.a.div(c||(c=Object(h.a)(["\n  margin-top: 10px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  font-size: 1.4rem;\n"]))),z=j.a.button(u||(u=Object(h.a)(["\n  background-color: #eee;\n  color: #666;\n  border-radius: 5px;\n  border: none;\n  padding: 10px 20px;\n  font-size: 1.4rem;\n\n  &:hover {\n    background-color: #ccc;\n    cursor: pointer;\n  }\n"]))),P=j.a.p(s||(s=Object(h.a)(["\n  color: ",";\n  flex: 1;\n"])),(function(n){return n.complete?"#a4d2a4":"#666"})),I=function(n){var t=n.isComplete,e=n.secondsPassed,r=n.onReset;return Object(v.jsxs)(k,{children:[Object(v.jsx)(P,{complete:t,children:t?"Cleaning complete in ".concat(e," seconds"):"Cleaning in progress..."}),Object(v.jsx)(z,{onClick:r,children:"Reset"})]})};!function(n){n[n.NORTH=0]="NORTH",n[n.SOUTH=1]="SOUTH",n[n.EAST=2]="EAST",n[n.WEST=3]="WEST"}(d||(d={}));var A,C,N=function(n){return n.every((function(n){return n.every((function(n){return n}))}))},U=function(n,t){var e=[];return n.x>0&&e.push(d.WEST),n.x<t-1&&e.push(d.EAST),n.y>0&&e.push(d.NORTH),n.y<t-1&&e.push(d.SOUTH),e[Math.floor(Math.random()*e.length)]},W=function(){var n=function(n){if(n<1)throw new Error("Size cannot be less than 1");return{x:Math.floor(Math.random()*n),y:Math.floor(Math.random()*n)}}(g),t=function(n){if(n<1)throw new Error("Size cannot be less than 1");for(var t=[],e=0;e<n;e++){var r=Array(n).fill(!1);t.push(r)}return t}(g);return t[n.y][n.x]=!0,{grid:t,currentPosition:n}},D=function(n){var t=function(n,t){if(t<1)throw new Error("Grid size cannot be less than 1");if(n.x<0||n.y<0||n.x>=t||n.y>=t)throw new Error("Position must be within grid size");var e=U(n,t),r=n.x,i=n.y;return e===d.WEST?{x:r-1,y:i}:e===d.EAST?{x:r+1,y:i}:e===d.NORTH?{x:r,y:i-1}:e===d.SOUTH?{x:r,y:i+1}:{x:r,y:i}}(n.currentPosition,g);return{grid:n.grid.map((function(n,e){return n.map((function(n,r){return!!(r===t.x&&e===t.y)||n}))})),currentPosition:t}},V=function(n,t){switch(t.type){case"RESET":return W();case"MOVE":return D(n);default:throw new Error("Not a valid action: "+t.type)}},J=j.a.div(A||(A=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  min-height: 100%;\n  flex-direction: column;\n  margin: 0 auto;\n  width: ","px;\n"])),g*m),B=j.a.div(C||(C=Object(h.a)(["\n  position: relative;\n  border-radius: 5px;\n  height: ","px;\n  overflow: hidden;\n"])),g*m),F=function(){var n=f.a.useReducer(V,W()),t=Object(b.a)(n,2),e=t[0],r=t[1],i=f.a.useRef(),o=f.a.useRef((new Date).getTime());f.a.useEffect((function(){return i.current=window.setInterval((function(){return r({type:"MOVE"})}),O),function(){return clearInterval(i.current)}}),[]),f.a.useEffect((function(){N(e.grid)&&clearInterval(i.current)}),[e.grid]);var a=e.grid.flatMap((function(n){return n.filter((function(n){return n}))})).length>1,c=N(e.grid),u=Math.round(((new Date).getTime()-o.current)/1e3);return Object(v.jsxs)(J,{children:[Object(v.jsxs)(B,{children:[Object(v.jsx)(H,{position:e.currentPosition,animate:a}),Object(v.jsx)(E,{grid:e.grid})]}),Object(v.jsx)(I,{onReset:function(){clearInterval(i.current),r({type:"RESET"}),o.current=(new Date).getTime(),i.current=window.setInterval((function(){return r({type:"MOVE"})}),O)},isComplete:c,secondsPassed:u})]})};e(20);x.a.render(Object(v.jsx)(f.a.StrictMode,{children:Object(v.jsx)(F,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.831b6175.chunk.js.map